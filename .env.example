# =============================================================================
# Bronn Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!

# =============================================================================
# Google Cloud Platform
# =============================================================================
GCP_PROJECT_ID=salesos-473014
GCP_REGION=us-central1

# Firebase Project ID (required for all environments)
# Must match across local, CI, and Cloud Run for environment parity
FIREBASE_PROJECT_ID=salesos-473014

# Cloud SQL (Production - Used in Cloud Run via Unix socket)
CLOUD_SQL_CONNECTION_NAME=salesos-473014:us-central1:bronn-db
DB_USER=bronn
DB_PASS=your-secure-password-here
DB_NAME=bronn

# =============================================================================
# Cloud SQL Auth Proxy (Local Development with Real Cloud SQL)
# =============================================================================
# Run: cloud-sql-proxy salesos-473014:us-central1:bronn-db --port 5432
# Then set these variables to connect to real Cloud SQL locally:
# DB_HOST=127.0.0.1
# DB_PORT=5432

# For local development with local PostgreSQL (alternative to proxy)
DATABASE_URL=postgresql://bronn:password@localhost:5432/bronn

# =============================================================================
# Firebase Configuration (Backend - Service Account)
# =============================================================================
# Path to your Firebase service account JSON file
GOOGLE_APPLICATION_CREDENTIALS=./service-account.json

# =============================================================================
# Firebase Configuration (Frontend - Public Config)
# =============================================================================
# These are safe to expose - they only identify your project
VITE_FIREBASE_API_KEY=your-firebase-api-key
VITE_FIREBASE_AUTH_DOMAIN=salesos-473014.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=salesos-473014

# =============================================================================
# Backend Configuration
# =============================================================================
# Backend URL for frontend API calls
VITE_BACKEND_URL=http://localhost:8000

# JWT secret for internal use (Activepieces integration)
JWT_SECRET_KEY=your-jwt-secret-change-in-production

# =============================================================================
# Activepieces Integration
# =============================================================================
ACTIVEPIECES_URL=http://localhost:8080

# Activepieces database (same as Cloud SQL in production)
AP_POSTGRES_DATABASE=activepieces
AP_POSTGRES_HOST=localhost
AP_POSTGRES_PORT=5432
AP_POSTGRES_USERNAME=bronn
AP_POSTGRES_PASSWORD=your-secure-password-here

# =============================================================================
# Activepieces Multi-Tenant Security
# =============================================================================
# Execution mode: SANDBOX_CODE_ONLY recommended for multi-tenant deployments
# Options: UNSANDBOXED (single-tenant), SANDBOX_CODE_ONLY (multi-tenant), SANDBOX_PROCESS (high isolation)
AP_EXECUTION_MODE=SANDBOX_CODE_ONLY

# Maximum execution time for workflow steps (seconds)
AP_SANDBOX_RUN_TIME_SECONDS=600

# Number of concurrent flow workers
AP_FLOW_WORKER_CONCURRENCY=10

# Queue mode: MEMORY for Cloud Run, REDIS for persistent queues
AP_QUEUE_MODE=MEMORY

# =============================================================================
# Docker Compose (Local Development)
# =============================================================================
POSTGRES_DB=bronn
POSTGRES_USER=bronn
POSTGRES_PASSWORD=bronn_dev_password_change_in_prod
